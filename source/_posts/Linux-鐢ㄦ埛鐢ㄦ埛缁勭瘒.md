---
title: Linux-用户用户组篇
---
# 用户和用户组管理

如何去做用户管理

越是对服务器安全性要求高的服务器，越需要建立合理的用户权限等级制度和服务器操作规范。

在Linux中主要是通过用户配置文件来查看和修改用户信息。

## 用户配置文件

### 	用户信息文件/etc/passwd

这个 文件 中 保存 的 就是 系统 中 所有 的 用户 和 用户 的 主要 信息。

文档解读：

​	文件中一行代表一个用户，每行分为7个字段，下面解释下这7个字段分别附有什么含有

​	1.用户名称

​	2.密码标识 ，具体密码信息需要进入/etc/shadow查看，并且密码采用SHA512散列加密算法.

​	3.uid 用户的id标识 0表示超级用户，而且前499已经被系统占用

​	4.gid 表示用户组id标识 这里指的是用户的初始组

​	5.用户说明信息

​	6.用户的home 目录

​	7.用户登陆后所能执行的shell脚本

### 	影子文件/etc/shadow

​	文件中存储了关于用户的密码的一些信息

​	同样每行表示每个用户的密码信息，每行分为6个字段

​	1.用户名称

​	2.密码 经过加密后的，被锁定的密码前会加入！！

​	3.密码最后一次修改日期

​	4.密码的两次修改时间间隔（和3做比较）

​	5.密码的有效期（和3做比较）

​	6.密码修改到期前的警告天数（和5做比较）

### 	组织信息文件/etc/group和组密码文件/etc/gshadow

​	/etc/group 存储了信息用户组的信息

​	/etc/gshadow 存储了用户组管理员以及密码的一些信息

​	具体详情 可查阅 man 5 gshadow

## 用户管理相关的文件

​	1.用户的家目录

​		/home/用户名称 或/root/

​	2.用户邮箱目录

​		/var/spool/mail/用户名称

​	3.用户模板目录

​		/etc/skel

## 用户管理命令

​	添加用户 useradd [选项] 用户名

​	指定修改用户密码 passwd  [选项]  用户名

​	修改用户信息 usermod [选项]  用户名

​	删除用户 userdel [选项] 用户名

​	切换用户 su [选项] 用户名

​		“-” 切换后使用切换用户的环境

​		“-c” 仅执行一次命令

## 用户组管理命令

​	添加用户组 groupadd [选项] 组名

​	修改用户组 groupmod [选项] 组名

​	删除用户组 groupdel [选项] 组名

​	把用户加入组中 gpasswd 选项 组名

​		“-a” 用户名 把用户加入组

​		“-d”用户名 把用户从组中删除